<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>JurisFlow - Plataforma de Orquestra√ß√£o Jur√≠dica</title>
  <link rel="stylesheet" href="/ui/styles.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
  <!-- Tela Inicial -->
  <div id="landingPage" class="landing-page">
    <nav class="landing-nav">
      <div class="nav-content">
        <div class="logo">
          <div class="logo-image">
            <img src="/ui/logo.png" alt="JurisFlow" class="logo-img" onerror="this.src='/ui/logo.svg'" />
          </div>
          <span>JurisFlow</span>
        </div>
        <div class="nav-buttons">
          <button class="btn-secondary" onclick="showLogin()">Entrar</button>
          <button class="btn-primary" onclick="showRegister()">Cadastrar Escrit√≥rio</button>
        </div>
      </div>
    </nav>
    
    <main class="landing-main">
      <section class="hero">
        <div class="hero-content">
          <h1>Coordena√ß√£o e Orquestra√ß√£o de Tarefas Jur√≠dicas</h1>
          <p class="hero-subtitle">Otimize a execu√ß√£o das atividades do seu escrit√≥rio com nossa plataforma inteligente de orquestra√ß√£o</p>
          
          <div class="hero-features">
            <div class="feature">
              <i class="fas fa-file-alt"></i>
              <h3>Gerenciamento de Documentos</h3>
              <p>Organize e controle todos os documentos jur√≠dicos de forma centralizada</p>
            </div>
            <div class="feature">
              <i class="fas fa-clock"></i>
              <h3>Controle de Prazos</h3>
              <p>Nunca mais perca um prazo importante com nosso sistema de alertas inteligente</p>
            </div>
            <div class="feature">
              <i class="fas fa-gavel"></i>
              <h3>Organiza√ß√£o de Audi√™ncias</h3>
              <p>Gerencie audi√™ncias e compromissos com efici√™ncia e precis√£o</p>
            </div>
          </div>
          
          <div class="hero-actions">
            <button class="btn-primary-large" onclick="showRegister()">Come√ßar Agora</button>
            <button class="btn-secondary-large" onclick="showLogin()">J√° tenho conta</button>
          </div>
        </div>
      </section>
      
      <section class="benefits">
        <div class="benefits-content">
          <h2>Por que escolher o JurisFlow?</h2>
          <div class="benefits-grid">
            <div class="benefit">
              <i class="fas fa-cogs"></i>
              <h4>Orquestra√ß√£o Inteligente</h4>
              <p>Sistema que distribui tarefas de forma eficiente entre os setores especializados</p>
            </div>
            <div class="benefit">
              <i class="fas fa-shield-alt"></i>
              <h4>Seguran√ßa Avan√ßada</h4>
              <p>Controle de acesso baseado em permiss√µes para proteger informa√ß√µes sens√≠veis</p>
            </div>
            <div class="benefit">
              <i class="fas fa-chart-line"></i>
              <h4>Produtividade</h4>
              <p>Aumente a efici√™ncia do seu escrit√≥rio com automa√ß√£o e controle centralizado</p>
            </div>
            <div class="benefit">
              <i class="fas fa-users"></i>
              <h4>Colabora√ß√£o</h4>
              <p>Facilite o trabalho em equipe com ferramentas de colabora√ß√£o integradas</p>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Tela de Login -->
  <div id="loginPage" class="auth-page" style="display:none;">
    <div class="auth-container">
      <div class="auth-header">
        <div class="logo-large">
          <div class="logo-image">
            <img src="/ui/logo.png" alt="JurisFlow" class="logo-img" onerror="this.src='/ui/logo.svg'" />
          </div>
          <span>JurisFlow</span>
        </div>
        <h2>Acesso ao Sistema</h2>
        <p>Entre com suas credenciais para acessar a plataforma</p>
      </div>
      
      <form class="auth-form" onsubmit="return false;">
        <div class="form-group">
          <label for="username">Usu√°rio</label>
          <input id="username" type="text" placeholder="Digite seu usu√°rio" class="form-input" />
        </div>
        
        <div class="form-group">
          <label for="password">Senha</label>
          <input id="password" type="password" placeholder="Digite sua senha" class="form-input" />
        </div>
        
        <button type="button" class="btn-primary-full" onclick="login()">Entrar no Sistema</button>
        
        <div id="loginStatus" class="auth-status"></div>
      </form>
      
      <div class="auth-footer">
        <p>N√£o tem uma conta? <a href="#" onclick="showRegister()">Cadastre seu escrit√≥rio</a></p>
        <p><a href="#" onclick="showLanding()">‚Üê Voltar ao in√≠cio</a></p>
      </div>
    </div>
  </div>

  <!-- Tela de Cadastro -->
  <div id="registerPage" class="auth-page" style="display:none;">
    <div class="auth-container">
      <div class="auth-header">
        <div class="logo-large">
          <div class="logo-image">
            <img src="/ui/logo.png" alt="JurisFlow" class="logo-img" onerror="this.src='/ui/logo.svg'" />
          </div>
          <span>JurisFlow</span>
        </div>
        <h2>Cadastro de Escrit√≥rio</h2>
        <p>Registre seu escrit√≥rio e comece a usar nossa plataforma</p>
      </div>
      
      <form class="auth-form" onsubmit="return false;">
        <div class="form-group">
          <label for="officeName">Nome do Escrit√≥rio</label>
          <input id="officeName" type="text" placeholder="Ex: Advocacia Silva & Associados" class="form-input" />
        </div>
        
        <div class="form-group">
          <label for="cnpj">CNPJ</label>
          <input id="cnpj" type="text" placeholder="00.000.000/0000-00" class="form-input" />
        </div>
        
        <div class="form-group">
          <label for="responsibleName">Nome do Respons√°vel</label>
          <input id="responsibleName" type="text" placeholder="Nome completo" class="form-input" />
        </div>
        
        <div class="form-group">
          <label for="oabNumber">N√∫mero da OAB</label>
          <input id="oabNumber" type="text" placeholder="Ex: 123456/SP" class="form-input" />
        </div>
        
        <div class="form-group">
          <label for="userType">Tipo de Usu√°rio</label>
          <select id="userType" class="form-input form-select" onchange="toggleOabField()">
            <option value="">Selecione o tipo</option>
            <option value="advogado">Advogado</option>
            <option value="estagiario">Estagi√°rio</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="email">E-mail</label>
          <input id="email" type="email" placeholder="contato@escritorio.com" class="form-input" />
        </div>
        
        <div class="form-group">
          <label for="phone">Telefone</label>
          <input id="phone" type="tel" placeholder="(11) 99999-9999" class="form-input" />
        </div>
        
        <div class="form-group">
          <label for="newUsername">Usu√°rio</label>
          <input id="newUsername" type="text" placeholder="Escolha um nome de usu√°rio" class="form-input" />
        </div>
        
        <div class="form-group">
          <label for="newPassword">Senha</label>
          <input id="newPassword" type="password" placeholder="M√≠nimo 8 caracteres" class="form-input" />
        </div>
        
        <div class="form-group">
          <label for="confirmPassword">Confirmar Senha</label>
          <input id="confirmPassword" type="password" placeholder="Digite a senha novamente" class="form-input" />
        </div>
        
        <div class="form-checkbox">
          <input id="acceptTerms" type="checkbox" />
          <label for="acceptTerms">Aceito os <a href="#">termos de uso</a> e <a href="#">pol√≠tica de privacidade</a></label>
        </div>
        
        <button type="button" class="btn-primary-full" onclick="register()">Cadastrar Escrit√≥rio</button>
        
        <div id="registerStatus" class="auth-status"></div>
      </form>
      
      <div class="auth-footer">
        <p>J√° tem uma conta? <a href="#" onclick="showLogin()">Fazer login</a></p>
        <p><a href="#" onclick="showLanding()">‚Üê Voltar ao in√≠cio</a></p>
      </div>
    </div>
  </div>

  <!-- Modal para buscar documento -->
  <div id="searchModal" class="modal" onclick="closeSearchModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div class="modal-header">üîç Buscar Documento</div>
      <div class="info-text">Digite o ID do documento que deseja encontrar:</div>
      <input type="text" id="docIdInput" class="modal-input" placeholder="Ex: a1b2c3d4" />
      <div class="modal-buttons">
        <button class="modal-btn secondary" onclick="closeSearchModal()">Cancelar</button>
        <button class="modal-btn primary" onclick="executeSearch()">Buscar</button>
      </div>
    </div>
  </div>

  <!-- Modal para buscar processo -->
  <div id="processModal" class="modal" onclick="closeProcessModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div class="modal-header">üîç Buscar Processo</div>
      <div class="info-text">Digite o ID do processo para ver o resumo completo:</div>
      <input type="text" id="processIdInput" class="modal-input" placeholder="Ex: PROC-001, UI-01" />
      <div class="modal-buttons">
        <button class="modal-btn secondary" onclick="closeProcessModal()">Cancelar</button>
        <button class="modal-btn primary" onclick="executeProcessSearch()">Buscar Resumo</button>
      </div>
    </div>
  </div>

  <!-- Modal para excluir documento -->
  <div id="deleteModal" class="modal" onclick="closeDeleteModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div class="modal-header">üóëÔ∏è Excluir Documento</div>
      <div class="info-text">Digite o ID do documento que deseja excluir:</div>
      <div class="warning-text">‚ö†Ô∏è Esta a√ß√£o n√£o pode ser desfeita!</div>
      <input type="text" id="deleteIdInput" class="modal-input" placeholder="Ex: a1b2c3d4" />
      <div class="modal-buttons">
        <button class="modal-btn secondary" onclick="closeDeleteModal()">Cancelar</button>
        <button class="modal-btn danger" onclick="executeDelete()">Excluir</button>
      </div>
    </div>
  </div>

  <!-- Modal para excluir prazo -->
  <div id="deleteDeadlineModal" class="modal" onclick="closeDeleteDeadlineModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div class="modal-header">üóëÔ∏è Excluir Prazo</div>
      <div class="info-text">Digite o ID do prazo que deseja excluir:</div>
      <div class="warning-text">‚ö†Ô∏è Esta a√ß√£o n√£o pode ser desfeita!</div>
      <input type="text" id="deleteDeadlineIdInput" class="modal-input" placeholder="Ex: a1b2c3d4" />
      <div class="modal-buttons">
        <button class="modal-btn secondary" onclick="closeDeleteDeadlineModal()">Cancelar</button>
        <button class="modal-btn danger" onclick="executeDeleteDeadline()">Excluir</button>
      </div>
    </div>
  </div>

  <!-- Modal para excluir audi√™ncia -->
  <div id="deleteHearingModal" class="modal" onclick="closeDeleteHearingModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div class="modal-header">üóëÔ∏è Cancelar Audi√™ncia</div>
      <div class="info-text">Digite o ID da audi√™ncia que deseja cancelar:</div>
      <div class="warning-text">‚ö†Ô∏è Esta a√ß√£o n√£o pode ser desfeita!</div>
      <input type="text" id="deleteHearingIdInput" class="modal-input" placeholder="Ex: a1b2c3d4" />
      <div class="modal-buttons">
        <button class="modal-btn secondary" onclick="closeDeleteHearingModal()">Cancelar</button>
        <button class="modal-btn danger" onclick="executeDeleteHearing()">Cancelar Audi√™ncia</button>
      </div>
    </div>
  </div>

  <!-- Modal para criar documento -->
  <div id="createDocumentModal" class="modal" onclick="closeCreateDocumentModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div class="modal-header">üìÑ Criar Documento</div>
      <div class="info-text">Preencha as informa√ß√µes do documento:</div>
      <input type="text" id="docTitleInput" class="modal-input" placeholder="T√≠tulo do documento" />
      <textarea id="docContentInput" class="modal-input" placeholder="Conte√∫do do documento" rows="4"></textarea>
      <input type="text" id="docAuthorInput" class="modal-input" placeholder="Autor" />
      <input type="text" id="docProcessIdInput" class="modal-input" placeholder="ID do Processo (opcional)" />
      <div class="modal-buttons">
        <button class="modal-btn secondary" onclick="closeCreateDocumentModal()">Cancelar</button>
        <button class="modal-btn primary" onclick="executeCreateDocument()">Criar Documento</button>
      </div>
    </div>
  </div>

  <!-- Modal para criar prazo -->
  <div id="createDeadlineModal" class="modal" onclick="closeCreateDeadlineModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div class="modal-header">‚è∞ Criar Prazo</div>
      <div class="info-text">Preencha as informa√ß√µes do prazo:</div>
      <input type="text" id="deadlineProcessIdInput" class="modal-input" placeholder="ID do Processo" />
      <input type="date" id="deadlineDateInput" class="modal-input" />
      <textarea id="deadlineDescInput" class="modal-input" placeholder="Descri√ß√£o do prazo" rows="3"></textarea>
      <div class="modal-buttons">
        <button class="modal-btn secondary" onclick="closeCreateDeadlineModal()">Cancelar</button>
        <button class="modal-btn primary" onclick="executeCreateDeadline()">Criar Prazo</button>
      </div>
    </div>
  </div>

  <!-- Modal para agendar audi√™ncia -->
  <div id="createHearingModal" class="modal" onclick="closeCreateHearingModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div class="modal-header">üèõÔ∏è Agendar Audi√™ncia</div>
      <div class="info-text">Preencha as informa√ß√µes da audi√™ncia:</div>
      <input type="text" id="hearingProcessIdInput" class="modal-input" placeholder="ID do Processo" />
      <input type="date" id="hearingDateInput" class="modal-input" />
      <input type="text" id="hearingCourtroomInput" class="modal-input" placeholder="Sala da audi√™ncia" />
      <textarea id="hearingDescInput" class="modal-input" placeholder="Descri√ß√£o da audi√™ncia" rows="3"></textarea>
      <div class="modal-buttons">
        <button class="modal-btn secondary" onclick="closeCreateHearingModal()">Cancelar</button>
        <button class="modal-btn primary" onclick="executeCreateHearing()">Agendar Audi√™ncia</button>
      </div>
    </div>
  </div>

  <div id="mainUI" style="display:none;" class="main-system">
    <!-- Header do Sistema -->
    <header class="system-header-new">
      <div class="header-top">
        <div class="office-info">
          <div class="logo-system-new">
            <div class="logo-image">
              <img src="/ui/logo.png" alt="JurisFlow" class="logo-img" onerror="this.src='/ui/logo.svg'" />
            </div>
            <span>JurisFlow</span>
          </div>
          <div class="office-details">
            <h2 id="officeName">Carregando...</h2>
            <p>Plataforma de Orquestra√ß√£o Jur√≠dica</p>
          </div>
        </div>
        
        <div class="user-actions">
          <div class="user-info">
            <i class="fas fa-user-circle"></i>
            <span id="userName">Usu√°rio</span>
          </div>
          <button class="btn-logout" onclick="logout()">
            <i class="fas fa-sign-out-alt"></i>
            Sair
          </button>
        </div>
      </div>
    </header>

    <!-- √Årea Principal -->
    <main class="main-content">
      <!-- Cards de Funcionalidades -->
      <div class="features-grid">
        <div class="feature-card">
          <div class="card-header">
            <i class="fas fa-file-alt"></i>
            <h3>Documentos</h3>
          </div>
          <div class="card-actions">
            <button data-permission="read" onclick="listDocuments()" class="btn-action">
              <i class="fas fa-list"></i>
              Listar Documentos
            </button>
            <button data-permission="write" onclick="createDocument()" class="btn-action">
              <i class="fas fa-plus"></i>
              Criar Documento
            </button>
            <button data-permission="read" onclick="searchDocument()" class="btn-action">
              <i class="fas fa-search"></i>
              Buscar Documento
            </button>
          </div>
        </div>

        <div class="feature-card">
          <div class="card-header">
            <i class="fas fa-clock"></i>
            <h3>Prazos</h3>
          </div>
          <div class="card-actions">
            <button data-permission="read" onclick="listDeadlines()" class="btn-action">
              <i class="fas fa-list"></i>
              Listar Prazos
            </button>
            <button data-permission="write" onclick="createDeadlineModal()" class="btn-action">
              <i class="fas fa-plus"></i>
              Criar Prazo
            </button>
            <button data-permission="read" onclick="listTodayDeadlines()" class="btn-action">
              <i class="fas fa-calendar-day"></i>
              Prazos de Hoje
            </button>
          </div>
        </div>

        <div class="feature-card">
          <div class="card-header">
            <i class="fas fa-gavel"></i>
            <h3>Audi√™ncias</h3>
          </div>
          <div class="card-actions">
            <button data-permission="read" onclick="listHearings()" class="btn-action">
              <i class="fas fa-list"></i>
              Listar Audi√™ncias
            </button>
            <button data-permission="write" onclick="createHearingModal()" class="btn-action">
              <i class="fas fa-plus"></i>
              Agendar Audi√™ncia
            </button>
            <button data-permission="read" onclick="listTodayHearings()" class="btn-action">
              <i class="fas fa-calendar-day"></i>
              Audi√™ncias de Hoje
            </button>
          </div>
        </div>

        <div class="feature-card">
          <div class="card-header">
            <i class="fas fa-folder-open"></i>
            <h3>Processos</h3>
          </div>
          <div class="card-actions">
            <button data-permission="read" onclick="listProcessesModal()" class="btn-action">
              <i class="fas fa-list"></i>
              Listar Processos
            </button>
            <button data-permission="read" onclick="searchProcess()" class="btn-action">
              <i class="fas fa-search"></i>
              Buscar Processo
            </button>
            <button data-permission="orchestrate" onclick="orchestrateCase()" class="btn-action primary">
              <i class="fas fa-magic"></i>
              Orquestrar Caso
            </button>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Modal para DataTable -->
  <div id="dataModal" class="modal" onclick="closeDataModal()">
    <div class="modal-content data-modal-content" onclick="event.stopPropagation()">
      <div class="modal-header data-modal-header">
        <h3 id="dataModalTitle">Dados</h3>
        <button class="modal-close" onclick="closeDataModal()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body data-modal-body">
        <div id="dataTableContainer"></div>
        <div id="dataStatus" class="data-status">Carregando...</div>
      </div>
    </div>
  </div>

  <!-- Modal de Confirma√ß√£o de Exclus√£o -->
  <div id="confirmDeleteModal" class="modal" onclick="closeConfirmDeleteModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div class="modal-header" style="background: rgba(239, 68, 68, 0.1); border-color: rgba(239, 68, 68, 0.3);">
        <h3 style="color: #fca5a5; display: flex; align-items: center; gap: 0.75rem;">
          <i class="fas fa-exclamation-triangle"></i>
          Confirmar Exclus√£o
        </h3>
        <button class="modal-close" onclick="closeConfirmDeleteModal()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body" style="padding: 2rem;">
        <div style="text-align: center; margin-bottom: 2rem;">
          <i class="fas fa-trash-alt" style="font-size: 3rem; color: #ef4444; margin-bottom: 1rem;"></i>
          <h4 id="confirmDeleteTitle" style="color: #e2e8f0; margin-bottom: 0.5rem; font-size: 1.25rem;">Deseja excluir este item?</h4>
          <p id="confirmDeleteMessage" style="color: #94a3b8;">Esta a√ß√£o n√£o pode ser desfeita.</p>
        </div>
        <div class="modal-buttons">
          <button class="modal-btn secondary" onclick="closeConfirmDeleteModal()">
            <i class="fas fa-times"></i>
            Cancelar
          </button>
          <button class="modal-btn danger" onclick="executeConfirmDelete()">
            <i class="fas fa-trash"></i>
            Excluir
          </button>
        </div>
      </div>
    </div>
  </div>

  <script src="/ui/js/main.js"></script>
  <script src="/ui/js/auth.js"></script>
  <script src="/ui/js/register.js"></script>
  <script src="/ui/js/system.js"></script>
  <script src="/ui/js/modals.js"></script>
  <script src="/ui/js/datatable.js"></script>
</body>
</html>